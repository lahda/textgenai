{% extends 'layout.html' %}
{% block main %}

<div class="row">
    <div class="col-12 text-center">
      <h1>Liste des enregistrements</h1>
    </div>
   <!-- enregistrement rallonger -->
      <br />
      <br />
   <div class="row">
      <div class="col-md-4">
        <form action=" {% url 'supprimer_enregistrement_ext' %}" method="POST">
          {% csrf_token %}
        {% for enregistrement in enregistrements_Recording_extend %}
        <div class="card" style="height:150px; width:200px;background: #90EE90;border-radius: 10px;">
          <div class="card-body" style="height:200px; width:200px;">
            <h5 class="card-title" style="font-size:15px">{{ enregistrement.titre }}</h5>
            <input type="text"  style="display: none;" name="idext" value = {{enregistrement.id}}/>
            <p class="card-text content-truncated" id="contenuId" style="font-size:12px;text-overflow:ellipsis;"></p>
            <p class="card-text" style="font-size:12px;text-overflow:ellipsis;">{{ enregistrement.date }}</p>
            <button type="button" class="btn btn-primary show-details" data-toggle="modal" data-target="#myModal" data-content="{{ enregistrement.contenu }}">
              <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"/>
              </svg> 
            </button>
           
            &nbsp;
            &nbsp;
        
            <button type="submit" class="btn btn-danger btn-delete">
              <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
                <path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/>
              </svg>
            </button>
              
          </div>
        </div>
        <br />
        {% endfor %}
      </form>
      </div>
      
     <div class="col-md-4">
      <form action=" {% url 'delete_summary' %}" method="POST">
        {% csrf_token %}
        {% for summ1 in summ %}
       <div class="card" style="height:150px; width:200px;background: #ADD8E6;border-radius: 10px;">
         <div class="card-body" style="height:200px; width:200px;">
           <h5 class="card-title" style="font-size:15px">{{ summ1.titre }}</h5>
           <input type="text"  style="display: none;" name="idsum" value = {{summ1.id}}/>
           <p class="card-text content-truncated" id="contenuId" style="font-size:12px;text-overflow:ellipsis;"></p>
           <p class="card-text" style="font-size:12px;text-overflow:ellipsis;">{{ summ1.date }}</p>
           <button type="button" class="btn btn-primary show-details" data-toggle="modal" data-target="#myModal" data-content="{{ summ1.contenu }}">
            <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
              <path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"/>
            </svg>
           </button>
             
              &nbsp;
              &nbsp;
              <button type="submit" class="btn btn-danger btn-delete" >
                <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
                  <path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/>
                </svg>
              </button>
        
         </div>
       </div>
       <br />
       {% endfor %}
      </form>
     </div>
  
     <div class="col-md-4">
      <form action=" {% url 'delete_rewrite' %}" method="POST">
        {% csrf_token %} 
        {% for enregistrement in enregistrements_Recording_rewrite %}
       <div class="card" style="height:150px; width:200px;background: #FFFAA0;border-radius: 10px;">
         <div class="card-body" style="height:200px; width:200px;">
           <h5 class="card-title" style="font-size:15px">{{ enregistrement.titre }}</h5>
           <input type="text"  style="display: none;" name="idrew" value = {{enregistrement.id}}/>
           <p class="card-text content-truncated" id="contenuId" style="font-size:12px;text-overflow:ellipsis;"></p>
           <p class="card-text" style="font-size:12px;text-overflow:ellipsis;">{{ enregistrement.date }}</p>
           <button type="button" class="btn btn-primary show-details" data-toggle="modal" data-target="#myModal" data-content="{{ enregistrement.contenu }}">
            <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
              <path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"/>
            </svg>
          </button>
                
              &nbsp;
              &nbsp;
              <button type="submit" class="btn btn-danger btn-delete">
                <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20">
                  <path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/>
                </svg>
              </button>
            
         </div>
       </div>
       <br />
       {% endfor %}
      </form>
     </div>
     
  </div>
</div>
<!-- enregistrements resumés -->

<!--enregistrements réécrit-->

  <!-- Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="myModalLabel">Détails du contenu</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p id="modal-content"></p>
        </div>
      </div>
    </div>
  </div>
  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      $('.show-details').on('click', function() {
        var content = $(this).data('content');
        $('#modal-content').text(content);
      });
    });
  </script>
  
</div>

{% endblock %}

